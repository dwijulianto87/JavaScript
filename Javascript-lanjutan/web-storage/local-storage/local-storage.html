<!DOCTYPE html>
<html lang="en">
            <head>
                <title>local Storage</title>
                <style>
            .contents{
                top: 100px;
                width: 50%;
                margin: auto;
                padding: 20px;
                border: 1px solid black;
                border-width:2px;
                text-align: center;
            }
 
            div.article{
                border: 1px solid black;
                padding: 20px;
            }

            div.latihan{
                border: 1px solid black;
                margin-top: 30px;
                padding: 20px;

            }
                </style>
            </head>
            <body>
                <div class="contents">
                    <div class="article">
                        <h1>Local Storage</h1>
                        <p>Tipe storage yang pertama adalah local storage yang digunakan untuk menyimpan data tanpa ada batasan waktu. Data yang disimpan tidak akan hilang bila browser atau tabs browser ditutup kecuali jika kita menghapusnya. Untuk menggunakan local storage, kita harus mengaksesnya melalui objek yang bernama "localStorage". Kemudian untuk menyimpan datanya, kita harus menggunakan method setItem() dari objek tersebut. Method setItem() membutuhkan 2 parameter, di mana parameter pertama adalah key dan yang kedua adalah value yang ingin kita simpan. Kemudian untuk mengaksesnya kita memerlukan method getItem() yang membutuhkan 1 parameter yaitu nilai key yang kita gunakan untuk menyimpan data. Seperti yang disebutkan sebelumnya, data pada local storage bisa dihapus dengan method removeItem() yang menerima 1 parameter yakni nilai key yang kita gunakan untuk menyimpan sebuah objek.</p>
                    </div>
                    
                    <div class="latihan">
                        <button id="incrementButton">Tambah nilai</button>
                        <button id="clear">Hapus storage</button>
                        <h3>Kamu sudah menekan tombol di atas sebanyak:</h3>
                        <h2 id="count">0</h2>
                    </div>
                </div>
                
                <script>
                const localStorageKey = "PRESS_FREQUENCY";
        
                // pengecekan apakah data localStorage dengan key count tersedia atau belum
                    if (typeof(Storage) !== "undefined") {
                        if (localStorage.getItem(localStorageKey) === null) {
                                // Jika item pada local storage belum ada 
                                // maka akan diberi nilai awal yakni 0
                                localStorage.setItem(localStorageKey, 0);
                            }
                        const Incrementbutton = document.querySelector("#incrementButton");
                        const clearButton = document.querySelector("#clear");
                        const countDisplay = document.querySelector("#count");
                        
                        // memberikan nilai item dari local storage
                        countDisplay.innerText = localStorage.getItem(localStorageKey);
        
                        // mengupdate nilai dari item local storage jika tombol ditekan
                        Incrementbutton.addEventListener('click', function() {
                            let count = localStorage.getItem(localStorageKey);
                            count++;
                            localStorage.setItem(localStorageKey, count);
                            countDisplay.innerText = localStorage.getItem(localStorageKey);
                        })
        
                        // memberikan nilai 0 ke tampilan karena di-reset dan menghapus item
                        clearButton.addEventListener('click', function(){
                            localStorage.removeItem(localStorageKey);
                            countDisplay.innerText = 0;
                        })
                    } else {
                        alert("Browser yang Anda gunakan tidak mendukung Web Storage")
                    }
                </script>
            </body>
</html>